var hinclude;(function(){hinclude={classprefix:"include_",set_content_async:function(b,a){if(4===a.readyState){if(200===a.status||304===a.status)b.innerHTML=a.responseText;b.className=hinclude.classprefix+a.status}},buffer:[],set_content_buffered:function(b,a){4===a.readyState&&(hinclude.buffer.push([b,a]),hinclude.outstanding-=1,0===hinclude.outstanding&&hinclude.show_buffered_content())},show_buffered_content:function(){for(;0<hinclude.buffer.length;){var b=hinclude.buffer.pop();if(200===b[1].status||304===b[1].status)b[0].innerHTML=b[1].responseText;b[0].className=hinclude.classprefix+b[1].status}},outstanding:0,includes:[],run:function(){var b=0,a=this.get_meta("include_mode","buffered"),c=function(a,b){};this.includes=document.getElementsByTagName("hx:include");0===this.includes.length&&(this.includes=document.getElementsByTagName("include"));"async"===a?c=this.set_content_async:"buffered"===a&&(c=this.set_content_buffered,a=1E3*this.get_meta("include_timeout",2.5),setTimeout(hinclude.show_buffered_content,a));for(b;b<this.includes.length;b+=1)this.include(this.includes[b],this.includes[b].getAttribute("src"),c)},include:function(b,a,c){if("data"===a.substring(0,a.indexOf(":")).toLowerCase())a=decodeURIComponent(a.substring(a.indexOf(",")+1,a.length)),b.innerHTML=a;else{var d=!1;if(window.XMLHttpRequest)try{d=new XMLHttpRequest}catch(f){d=!1}else if(window.ActiveXObject)try{d=new ActiveXObject("Microsoft.XMLHTTP")}catch(g){d=!1}if(d){this.outstanding+=1;d.onreadystatechange=function(){c(b,d)};try{d.open("GET",a,!0),d.send("")}catch(e){this.outstanding-=1,alert("Include error: "+a+" ("+e+")")}}}},refresh:function(b){var a=0;this.get_meta("include_mode","buffered");var c=function(a,b){},c=this.set_content_buffered;for(a;a<this.includes.length;a+=1)this.includes[a].getAttribute("id")===b&&this.include(this.includes[a],this.includes[a].getAttribute("src"),c)},get_meta:function(b,a){var c=0,d=document.getElementsByTagName("meta");for(c;c<d.length;c+=1)if(d[c].getAttribute("name")===b)return d[c].getAttribute("content");return a},addDOMLoadEvent:function(b){if(!window.__load_events){var a=function(){var a=0;if(!hinclude.addDOMLoadEvent.done){hinclude.addDOMLoadEvent.done=!0;window.__load_timer&&(clearInterval(window.__load_timer),window.__load_timer=null);for(a;a<window.__load_events.length;a+=1)window.__load_events[a]();window.__load_events=null}};document.addEventListener&&document.addEventListener("DOMContentLoaded",a,!1);/WebKit/i.test(navigator.userAgent)&&(window.__load_timer=setInterval(function(){/loaded|complete/.test(document.readyState)&&a()},10));window.onload=a;window.__load_events=[]}window.__load_events.push(b)}};hinclude.addDOMLoadEvent(function(){hinclude.run()})})();